<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>js13k Audio elements</title>
        <script type="text/javascript" src="gamesounds.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    </head>
    <body>


        <button class="playSound" id="template" style="display: none;"></button>

        Distance X: <input type="range" name="panx" id="panx" min="-100" max="100"><br>
        Distance Y: <input type="range" name="pany" id="pany" min="-100" max="100"><br>

        Pan: <input type="range" name="panrun" id="panrun" min="-100" max="100"><br>

        Function Called: <span id="functionCall"></span><br >

        <script type="text/javascript">

            $(function(){

                var currentSound = null;

                for (var sound in gameSounds.sounds){

                    $('button#template').clone().removeAttr('id').attr('data-sound', sound).text(sound).show().appendTo('body');

                }

                $('button.playSound').click(function(){

                    var thisSound = $(this).attr('data-sound');
                    var panX = Number($('input#panx').val());
                    var panY = Number($('input#pany').val());

                    currentSound = gameSounds.triggerSound(thisSound, panX, panY);

                    console.log(currentSound);

                    $('#functionCall').text('gameSounds.triggerSound(\''+thisSound+'\', '+panX+', '+panY+');');

                });

                $('#panrun').change(function(){
                    var pan = $(this).val();

                    currentSound.updateLocation(Number(pan), 0);
                    console.log('updating pan', pan);
                });

            });

        </script>
    </body>
</html>